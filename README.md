# Файловый менеджер дисков

Веб-приложение для управления файлами на смонтированных дисках сервера.

## Особенности

- Просмотр списка доступных дисков с информацией о занятом и свободном пространстве
- Навигация по папкам
- Загрузка файлов
- Скачивание файлов и папок (папки автоматически архивируются)
- Удаление файлов и папок
- Создание новых папок
- Адаптивный интерфейс

## Структура проекта

### Frontend (React)

- Модульная структура с разделением компонентов
- Оптимизированный CSS с использованием переменных
- Хуки для работы с API
- Вспомогательные утилиты для форматирования

### Backend (Node.js/Express)

- Модульная архитектура с разделением на маршруты и контроллеры
- Система логирования
- Обработка ошибок
- API для работы с файловой системой

## Установка и запуск

### Через Docker (рекомендуется)

1. Убедитесь, что Docker и Docker Compose установлены
2. Клонируйте репозиторий
3. Запустите контейнеры:

```
docker-compose up -d
```

### Ручная установка

#### Backend

```
cd backend
npm install
npm start
```

#### Frontend

```
cd frontend
npm install
npm start
```

## API эндпоинты

- `GET /api/disks` - получение списка дисков
- `GET /api/disks/:disk/files?path=<path>` - получение списка файлов
- `POST /api/disks/:disk/upload?path=<path>` - загрузка файла
- `DELETE /api/disks/:disk/files` - удаление файла или папки
- `POST /api/disks/:disk/createFolder` - создание новой папки
- `GET /api/disks/:disk/download?path=<path>` - скачивание файла или папки

## Требования к системе

- Node.js 14+
- Смонтированные диски в директориях:
  - `/mnt/disk_sda1`
  - `/mnt/disk_sdb1`
  - `/mnt/disk_sdb5`

  # Файловый менеджер дисков

Веб-приложение для управления файлами на смонтированных дисках сервера.

## Особенности

- Просмотр списка доступных дисков с информацией о занятом и свободном пространстве
- Навигация по папкам с breadcrumbs
- Поиск файлов
- Загрузка файлов с индикатором прогресса
- Скачивание файлов и папок (папки автоматически архивируются)
- Удаление файлов и папок
- Создание новых папок
- Подробная информация о файлах и папках
- Информация о системе
- Уведомления (toast notifications)
- Адаптивный интерфейс
- Версионированное API

## Структура проекта

### Frontend (React)

- Модульная структура с разделением компонентов
- Контекстное управление состоянием
- Кастомные хуки для работы с API и localStorage
- Оптимизированный CSS с переменными и анимациями
- Компоненты для визуализации использования дисков
- Модальные окна для информации о файлах
- Система уведомлений

### Backend (Node.js/Express)

- Модульная архитектура с разделением на маршруты и контроллеры
- Версионирование API
- Система логирования с разделением по уровням и записью в файлы
- Централизованная обработка ошибок
- API для работы с файловой системой
- Системная информация
- Оптимизированные загрузки файлов

## Оптимизации

- Разделение frontend-кода на мелкие компоненты для лучшей поддерживаемости
- Использование контекста React для управления состоянием вместо prop drilling
- Кэширование состояния с использованием localStorage
- Анимации и визуальные эффекты для улучшения пользовательского опыта
- Более удобная навигация с breadcrumbs
- Поиск файлов для быстрого доступа
- Детальная информация о файлах
- Система уведомлений вместо стандартных alert
- Оптимизированные API-запросы с версионированием
- Обработка ошибок и логирование для более простой отладки

## Установка и запуск

### Через Docker (рекомендуется)

1. Убедитесь, что Docker и Docker Compose установлены
2. Клонируйте репозиторий
3. Запустите контейнеры:

```
docker-compose up -d
```

### Ручная установка

#### Backend

```
cd backend
npm install
npm run dev  # Для разработки с автоперезагрузкой
npm start    # Для производственного режима
```

#### Frontend

```
cd frontend
npm install
npm start
```

## API эндпоинты

Все эндпоинты доступны через `/api/v1/...` (версионированный API) и `/api/...` (для обратной совместимости).

### Диски и файлы

- `GET /api/v1/disks` - получение списка дисков
- `GET /api/v1/disks/:disk/files?path=<path>` - получение списка файлов
- `POST /api/v1/disks/:disk/upload?path=<path>` - загрузка файла
- `DELETE /api/v1/disks/:disk/files` - удаление файла или папки
- `POST /api/v1/disks/:disk/createFolder` - создание новой папки
- `GET /api/v1/disks/:disk/download?path=<path>` - скачивание файла или папки

### Системная информация

- `GET /api/v1/system/info` - получение информации о системе

## Требования к системе

- Node.js 14+
- Смонтированные диски в директориях:
  - `/mnt/disk_sda1`
  - `/mnt/disk_sdb1`
  - `/mnt/disk_sdb5`

